---
import Main from "../components/Main";
import MainLayout from "../layouts/main-layout.astro";
import { createSupabaseServer } from "../utils/supabase";

const supabase = createSupabaseServer(Astro.cookies);
const { data: projects, error } = await supabase
  .from("projectdetails")
  .select("*");
---

<MainLayout title="Main Page">
  <Main projects={projects!} client:load />
</MainLayout>
